# HTML 常用轉義字元 (HTML Entities) 參考指南

在維護 ITS 題庫或開發網頁時，若內容包含程式碼標籤（如 `<html>`）或特殊符號，必須使用轉義字元，以防止瀏覽器誤判。

## 1. 核心轉義符號 (最常用)
用於顯示程式碼邏輯、標籤符號，防止網頁結構壞掉。

| 顯示符號 | HTML 實體 | 說明 |
| :--- | :--- | :--- |
| `<` | `&lt;` | 小於 (Less than) - **顯示標籤必用** |
| `>` | `&gt;` | 大於 (Greater than) - **顯示標籤必用** |
| `&` | `&amp;` | 連結符 (Ampersand) |
| `"` | `&quot;` | 雙引號 |
| `'` | `&apos;` | 單引號 |

## 2. 空白與排版
HTML 會自動合併連續空格，若需手動排版請用以下字元。

| 顯示符號 | HTML 實體 | 說明 |
| :--- | :--- | :--- |
| (空格) | `&nbsp;` | 不換行空格 (Non-breaking space) |
| (寬空) | `&emsp;` | 全角空格 (一個中文字寬度，縮排好用) |
| `—` | `&mdash;` | 長破折號 |

## 3. 數學與邏輯符號
適合用在考題解析中的運算說明。

| 顯示符號 | HTML 實體 | 說明 |
| :--- | :--- | :--- |
| `×` | `&times;` | 乘法號 |
| `÷` | `&divide;` | 除法號 |
| `≠` | `&ne;` | 不等於 |
| `≤` | `&le;` | 小於等於 |
| `≥` | `&ge;` | 大於等於 |
| `±` | `&plusmn;` | 正負號 |

## 4. 其他特殊符號
| 顯示符號 | HTML 實體 | 說明 |
| :--- | :--- | :--- |
| `©` | `&copy;` | 版權符號 |
| `®` | `&reg;` | 註冊商標 |
| `™` | `&trade;` | 商標 |
| `→` | `&rarr;` | 右箭頭 (流程說明好用) |

---

## 5. CSS 預設樣式與代碼高亮規範 (V3.5+ 標準)
為了簡化 JSON 維護並確保全站視覺一致，系統已在 HTML 中設定了全域預設樣式。**除非特殊需求，否則 JSON 中不需再寫內聯 style。**

### 5.1 系統預設數值 (Default Styles)
當您使用 `<code>` 或在題目區域使用 `<span>` 時，系統會自動套用以下預設：
- **字體大小 (font-size)**: `1.0rem` (專業閱讀感)
- **行高 (line-height)**: `1.4` (黃金閱讀間距)
- **文字顏色 (color)**: `#222222` (深炭灰色，保護眼睛且具權威感)
- **上下間距 (margin)**: `5px 0` (針對 `<code>` 自動撐開距離)

### 5.2 語法高亮 (Prism.js Syntax Highlighting)
若要顯示具備顏色高亮的程式碼，請配合特定的 CSS 類別使用：

| 語言名稱 | 標籤類別 (Class) | 適用場景 |
| :--- | :--- | :--- |
| **C#** | `<code class="language-csharp">` | .NET 開發、ITS Software Development |
| **Python** | `<code class="language-python">` | ITS Python, AI-900 程式題 |
| **SQL** | `<code class="language-sql">` | ITS Database, 資料庫查詢題 |
| **HTML** | `<code class="language-html">` | 網頁前端開發題目 |

**語法高亮注意事項：**
1. **標籤閉合**：務必確保 `</code></pre>` 放在程式碼最後一行，不要把「問題文字」包進去。
2. **自動上色**：系統會在題目切換時自動觸發 `Prism.highlightAll()`，不需額外操作。

---

## 6. JSON 資料格式規範 (Array Format)
為了提高可讀性與維護效率，題目的 `question` 與 `explanation` 欄位建議採用 **字串陣列 (Array of Strings)**：

### 推薦 JSON 結構
```json
"question": [
    "你執行了下列程式碼：<br/>",
    "<pre><code class=\"language-csharp\">int a = 10;",
    "int b = 20;</code></pre>",
    "",
    "程式碼執行完畢之後，result 的值為何？"
]
```
- **優點**：每一行代表網頁上的一個區塊，易於搜尋與修改。
- **自動換行**：陣列中的每一項會被系統自動處理為獨立的顯示行。

---

## 7. 顏色與樣式控制 (Color & Style Control)
若需手動覆蓋預設樣式，請使用 `<span>` 標籤：

| 顏色名稱 | 代碼 | 範例 | 建議用途 |
| :--- | :--- | :--- | :--- |
| **標準藍** | `#0d6efd` | `<span style="color:#0d6efd">強調文字</span>` | 標題、重點、核心提示 |
| **正確綠** | `#198754` | `<span style="color:#198754">正確答案</span>` | 正確答案、解析成功提示 |
| **警示紅** | `#dc3545` | `<span style="color:#dc3545">錯誤警告</span>` | 重要警語、錯誤選項強調 |
| **中性灰** | `#6c757d` | `<span style="color:#6c757d">補充資訊</span>` | 次要內容、背景說明 |

---

## 8. 表格精確控制 (Table Style & Alignment) - V3.5+ 標準
系統已在全域模板中定義了 **`.q-table`** 與一系列輔助類別，建議優先使用 `class` 組合而非內嵌 `style`。

### 8.1 核心表格樣式 (`.q-table`)
使用此類別可自動套用：**黑色實線邊框 (`#000`)**、**0.9rem 字體**、**1.2 行高**與**上下 15px 間距**。

### 8.2 寬度與對齊組合 (Width & Alignment)
透過 `w-*` 控制寬度，`t-*` 控制對齊，可靈活配置表格佈局：

| 類別類型 | 常用類別 (Class) | 說明 |
| :--- | :--- | :--- |
| **寬度控制** | `w-5` 至 `w-80` | 以 5% 為級距。例如 `w-70` 代表佔容器寬度 70%。 |
| **對齊控制** | `t-left`, `t-center`, `t-right` | 控制表格在頁面中的對齊位置。 |
| **固定佈局** | (內建於 `.q-table`) | 系統強制執行 `table-layout: fixed`，嚴格遵守寬度比例。 |

### 8.3 欄位比例分配 (Column Ratios)
在 `<td>` 標籤上使用 `w-*` 類別可精確分配欄位佔比。**注意：同一行 (tr) 內的寬度百分比總和應等於 100%。**

### 8.4 最佳實踐範例 (JSON 寫法)
```json
"explanation": [
    "<table class=\"q-table w-70 t-left\">",
    "  <tr style=\"background:#f8f9fa; font-weight:bold;\">",
    "    <td class=\"w-20\">指令</td>",
    "    <td class=\"w-40\">語法結構</td>",
    "    <td class=\"w-40\">參數說明</td>",
    "  </tr>",
    "  <tr>",
    "    <td>SELECT</td>",
    "    <td class=\"code-font\">SELECT * FROM Table</td>",
    "    <td>從資料庫檢索資料。</td>",
    "  </tr>",
    "</table>"
]
```
- **`w-70 t-left`**：表格寬度 70% 且靠左對齊（最推薦的解析表格寫法）。
- **`w-20 + w-40 + w-40 = 100`**：確保欄位比例精確生效。
- **`.code-font`**：建議用於 SQL 或程式碼欄位，會自動套用等寬字體與深藍色。

---

## 9. 程式碼塊去粉紅規範 (No-Pink Rule)
根據系統 V3.4 核心規範，所有代碼塊必須維持專業感：
- **嚴禁粉紅**：禁止在 `<pre>` 或 `<code>` 中出現任何粉紅色系的背景或文字顏色。
- **高亮規範**：必須配合 `language-xxx` 類別使用，顏色應以純黑 (#000) 或語法高亮預設色為主。

---

## 10. 全屏外擴佈局規範 (Subject Layout)
根據 V3.4 核心 UI 規範，題目容器必須維持精確的左右留白與同步位移。
- **佈局代碼**：`style="width: calc(100% - 60px); margin: 20px auto; max-width: none;"`
- **嚴禁修改**：任何情況下禁止移除 `max-width: none` 或修改 `60px` 留白設定，以確保全屏體驗與導覽按鈕同步。


## 備註：不同環境下的轉換 (對比)
- **HTML**: 使用 `&...;` (如 `&lt;`)
- **CSS**: 使用 `\` 十六進制 (如 `content: "\003c";`)
- **JavaScript**: 使用 `\u` Unicode (如 `\u003c`)

> **提示**：在維護 `questions_xxx.json` 時，若題目出現標籤，請務必將 `<` 換成 `&lt;`，將 `>` 換成 `&gt;`。
