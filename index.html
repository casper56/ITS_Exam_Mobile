<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=10.0, user-scalable=yes">
    <title>æ¨¡æ“¬æ¸¬é©—å…¥å£</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="apple-touch-icon" href="www/assets/icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ITS Exam">
    <script>
        // V3.4.2 æ¥µè‡´ç›¸å®¹é‚è¼¯ï¼šå‹•æ…‹è™•ç† Manifest èˆ‡ ServiceWorker
        (function() {
            const isLocal = window.location.protocol === 'file:';
            if (!isLocal) {
                // åƒ…åœ¨éæœ¬åœ°ç’°å¢ƒä¸‹æ³¨å…¥ manifest
                const link = document.createElement('link');
                link.rel = 'manifest';
                link.href = 'www/manifest.json';
                document.head.appendChild(link);
            } else {
                console.log("Local file mode detected. Manifest and ServiceWorker disabled to prevent CORS errors.");
            }
        })();
    </script>
    <style>
        body { background-color: #fff; font-family: "Microsoft JhengHei", sans-serif; color: #000; }
        #login-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .login-box { width: 100%; max-width: 400px; padding: 30px; border: 2px solid #000; border-radius: 15px; text-align: center; }
        .main-content-wrapper { display: none; }
        .hero-section { background: #fff; color: #000; padding: 60px 0; margin-bottom: 40px; border-bottom: 3px solid #000; }
        .exam-card { position: relative; border: 1px solid #000; border-radius: 12px; transition: transform 0.2s ease; cursor: pointer; height: 100%; background: #fff; color: #000; }
        .exam-card:hover { transform: translateY(-5px); background-color: #f8f9fa; }
        .tech-note-btn { position: absolute; top: 10px; left: 10px; font-size: 0.75rem; padding: 2px 8px; border-radius: 4px; background: #212529; color: #fff; text-decoration: none; font-weight: bold; z-index: 10; }
        .tech-note-btn:hover { background: #0d6efd; color: #fff; }
        .analysis-top-btn { position: absolute; top: 10px; right: 10px; font-size: 0.75rem; padding: 2px 8px; border-radius: 4px; background: #198754; color: #fff; text-decoration: none; font-weight: bold; z-index: 10; border: none; }
        .analysis-top-btn:hover { background: #157347; color: #fff; }
        .card-icon { font-size: 3rem; margin-bottom: 15px; color: #000; }
        .card-title { font-weight: 900; color: #000; }
        .text-muted { color: #333 !important; }
        .start-btn { border-radius: 8px; padding: 8px 25px; font-weight: bold; border: 1px solid #000; }
        footer { margin-top: 50px; padding: 30px 0; color: #000; border-top: 1px solid #000; }
        /* é¡Œåº«åˆ†æå½ˆçª—å°ˆæ¥­é¢¨æ ¼ï¼šGitHub æ–‡æª”æ„Ÿ */
        #analysis-content { 
            font-size: 0.9rem; 
            line-height: 1.6; 
            color: #24292e; 
            padding: 10px 15px;
            background-color: #fff;
        }
        #analysis-content h1 { 
            font-size: 1.4rem; 
            font-weight: 600; 
            padding-bottom: 0.3em; 
            border-bottom: 1px solid #eaecef; 
            margin-top: 15px;
            margin-bottom: 16px;
        }
        #analysis-content h2 { 
            font-size: 1.2rem; 
            font-weight: 600; 
            padding-bottom: 0.3em; 
            border-bottom: 1px solid #eaecef; 
            margin-top: 20px;
            margin-bottom: 12px;
        }
        #analysis-content h3 { 
            font-size: 1.05rem; 
            font-weight: 600; 
            margin-top: 15px;
            margin-bottom: 10px;
        }
        #analysis-content p { margin-bottom: 12px; }
        #analysis-content img { max-width: 100%; border: 1px solid #ddd; border-radius: 4px; }
        #analysis-content pre { 
            background-color: #f6f8fa; 
            padding: 12px; 
            border-radius: 6px; 
            overflow-x: auto; 
            font-size: 0.85rem; 
            border: 1px solid #dfe1e4;
        }
        #analysis-content code { 
            background-color: rgba(27,31,35,0.05); 
            padding: 0.2em 0.4em; 
            border-radius: 3px; 
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
        }
        #analysis-content pre code { background-color: transparent; padding: 0; }
        #analysis-content table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-bottom: 16px; 
            font-size: 0.85rem; 
        }
        #analysis-content th, #analysis-content td { 
            border: 1px solid #dfe2e5; 
            padding: 6px 13px; 
        }
        #analysis-content tr:nth-child(even) { background-color: #f6f8fa; }
        #analysis-content th { background-color: #f6f8fa; font-weight: 600; }
        #analysis-content blockquote { 
            padding: 0 1em; 
            color: #6a737d; 
            border-left: 0.25em solid #dfe2e5; 
            margin-bottom: 16px;
        }
        #analysis-content ul, #analysis-content ol { padding-left: 20px; margin-bottom: 12px; }
        #analysis-content li + li { margin-top: 0.25em; }
        @media (max-width: 768px) {
            .login-box { padding: 25px 20px; max-width: 90%; }
            .form-control { font-size: 1.2rem !important; padding: 12px !important; height: auto !important; }
            .btn-dark { width: 100%; padding: 12px !important; font-size: 1.1rem !important; }
            .hero-section { padding: 40px 0; }
        }
        .input-group-text { cursor: pointer; background: #fff; border-color: #212529; }
        .input-group-text:hover { background: #f8f9fa; }
    </style>
    <!-- Marked.js for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Analysis bundle for local offline access -->
    <script src="www/analysis_bundle.js"></script>
</head>
<body>

<div id="login-overlay">
    <div class="login-box">
        <h2 class="fw-bold mb-4">ç³»çµ±ç™»å…¥</h2>
        <form id="login-form" onsubmit="event.preventDefault(); checkLogin();">
            <div class="mb-3 text-start">
                <label class="form-label" for="username">ä½¿ç”¨è€…å¸³è™Ÿ</label>
                <div class="input-group">
                    <input type="password" id="username" name="username" class="form-control border-dark" placeholder="è«‹è¼¸å…¥å¸³è™Ÿ" autocomplete="username" required>
                    <span class="input-group-text border-dark" onclick="toggleField('username')">ğŸ‘ï¸</span>
                </div>
            </div>
            <div class="mb-4 text-start">
                <label class="form-label" for="password">å¯†ç¢¼</label>
                <div class="input-group">
                    <input type="password" id="password" name="password" class="form-control border-dark" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" autocomplete="current-password" required>
                    <span class="input-group-text border-dark" onclick="toggleField('password')">ğŸ‘ï¸</span>
                </div>
            </div>
            <button type="submit" class="btn btn-dark w-100 fw-bold py-2">ç™»å…¥ç³»çµ±</button>
        </form>
        <div id="login-error" class="text-danger mt-3 small" style="display:none;">å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤ï¼</div>
    </div>
</div>

<div class="main-content-wrapper">
<div class="hero-section text-center">
    <div class="container">
        <h1 class="display-4 fw-bold">æ¨¡æ“¬æ¸¬é©— (V3.4)</h1>
        <p class="lead">è«‹é¸æ“‡æ‚¨è¦ç·´ç¿’çš„è€ƒç§‘ï¼Œé–‹å§‹æ¨¡æ“¬æ¸¬è©¦ã€‚</p>
    </div>
</div>

<div class="container">
    <div class="row g-4">
        <!-- Python -->
        <div class="col-md-4">
            <div class="card exam-card text-center p-4">
                <a href="www/ITS_Python_TECH.html" class="tech-note-btn">Tech Note</a>
                <button class="analysis-top-btn" onclick="showAnalysis('itspy', 'ITS Python')">é¡Œåº«åˆ†æ</button>
                <div class="card-icon" onclick="location.href='www/ITS_Python/ITS_Python.html'">ğŸ</div>
                <h3 class="card-title">ITS Python</h3>
                <p class="card-text text-muted">ç¨‹å¼èªè¨€æ ¸å¿ƒèƒ½åŠ›</p>
                <div class="mt-auto d-grid gap-2">
                    <a href="www/ITS_Python/ITS_Python.html" class="btn btn-primary start-btn">è‡ªä¸»ç·´ç¿’</a>
                    <a href="www/ITS_Python/mock_v34.html" class="btn btn-warning start-btn fw-bold">æ¨¡æ“¬è€ƒè©¦ (60é¡Œ)</a>
                </div>
            </div>
        </div>

        <!-- Csharp -->
        <div class="col-md-4">
            <div class="card exam-card text-center p-4">
                <a href="www/ITS_SOFTDEVELOP.html" class="tech-note-btn">Tech Note</a>
                <button class="analysis-top-btn" onclick="showAnalysis('itscs', 'ITS Software Development')">é¡Œåº«åˆ†æ</button>
                <div class="card-icon" onclick="location.href='www/ITS_softdevelop/ITS_softdevelop.html'">ğŸ¯</div>
                <h3 class="card-title">ITS Software Development</h3>
                <p class="card-text text-muted">è»Ÿé«”ç ”ç™¼æ ¸å¿ƒèƒ½åŠ›</p>
                <div class="mt-auto d-grid gap-2">
                    <a href="www/ITS_softdevelop/ITS_softdevelop.html" class="btn btn-primary start-btn">è‡ªä¸»ç·´ç¿’</a>
                    <a href="www/ITS_softdevelop/mock_v34.html" class="btn btn-warning start-btn fw-bold">æ¨¡æ“¬è€ƒè©¦ (60é¡Œ)</a>
                </div>
            </div>
        </div>

        <!-- Database -->
        <div class="col-md-4">
            <div class="card exam-card text-center p-4">
                <a href="www/ITS_DATABASE_TECH.html" class="tech-note-btn">Tech Note</a>
                <button class="analysis-top-btn" onclick="showAnalysis('itsdb', 'ITS Database')">é¡Œåº«åˆ†æ</button>
                <div class="card-icon" onclick="location.href='www/ITS_Database/ITS_Database.html'">ğŸ—„ï¸</div>
                <h3 class="card-title">ITS Database</h3>
                <p class="card-text text-muted">è³‡æ–™åº«ç®¡ç†æ ¸å¿ƒèƒ½åŠ›</p>
                <div class="mt-auto d-grid gap-2">
                    <a href="www/ITS_Database/ITS_Database.html" class="btn btn-primary start-btn">è‡ªä¸»ç·´ç¿’</a>
                    <a href="www/ITS_Database/mock_v34.html" class="btn btn-warning start-btn fw-bold">æ¨¡æ“¬è€ƒè©¦ (60é¡Œ)</a>
                </div>
            </div>
        </div>

        <!-- AI -->
        <div class="col-md-4">
            <div class="card exam-card text-center p-4">
                <a href="www/ITS_AI_TECH.html" class="tech-note-btn">Tech Note</a>
                <button class="analysis-top-btn" onclick="showAnalysis('itsai', 'ITS AI')">é¡Œåº«åˆ†æ</button>
                <div class="card-icon" onclick="location.href='www/ITS_AI/ITS_AI.html'">ğŸ¤–</div>
                <h3 class="card-title">ITS AI</h3>
                <p class="card-text text-muted">äººå·¥æ™ºæ…§æ ¸å¿ƒèƒ½åŠ›</p>
                <div class="mt-auto d-grid gap-2">
                    <a href="www/ITS_AI/ITS_AI.html" class="btn btn-primary start-btn">è‡ªä¸»ç·´ç¿’</a>
                    <a href="www/ITS_AI/mock_v34.html" class="btn btn-warning start-btn fw-bold">æ¨¡æ“¬è€ƒè©¦ (60é¡Œ)</a>
                </div>
            </div>
        </div>

        <!-- AI-900 -->
        <div class="col-md-4">
            <div class="card exam-card text-center p-4">
                <a href="www/AI900_TECH.html" class="tech-note-btn">Tech Note</a>
                <button class="analysis-top-btn" onclick="showAnalysis('ai900', 'AI-900')">é¡Œåº«åˆ†æ</button>
                <div class="card-icon" onclick="location.href='www/AI900/AI900.html'">â˜ï¸</div>
                <h3 class="card-title">AI-900</h3>
                <p class="card-text text-muted">Microsoft Azure AI Fundamentals</p>
                <div class="mt-auto d-grid gap-2">
                    <a href="www/AI900/AI900.html" class="btn btn-primary start-btn">è‡ªä¸»ç·´ç¿’</a>
                    <a href="www/AI900/mock_v34.html" class="btn btn-warning start-btn fw-bold">æ¨¡æ“¬è€ƒè©¦ (60é¡Œ)</a>
                </div>
            </div>
        </div>

        <!-- AZ-900 -->
        <div class="col-md-4">
            <div class="card exam-card text-center p-4">
                <a href="www/AZ900_TECH.html" class="tech-note-btn">Tech Note</a>
                <button class="analysis-top-btn" onclick="showAnalysis('az900', 'AZ-900')">é¡Œåº«åˆ†æ</button>
                <div class="card-icon" onclick="location.href='www/AZ900/AZ900.html'">ğŸ’»</div>
                <h3 class="card-title">AZ-900</h3>
                <p class="card-text text-muted">Microsoft Azure Fundamentals</p>
                <div class="mt-auto d-grid gap-2">
                    <a href="www/AZ900/AZ900.html" class="btn btn-primary start-btn">è‡ªä¸»ç·´ç¿’</a>
                    <a href="www/AZ900/mock_v34.html" class="btn btn-warning start-btn fw-bold">æ¨¡æ“¬è€ƒè©¦ (60é¡Œ)</a>
                </div>
            </div>
        </div>

        <!-- Generative AI -->
        <div class="col-md-4">
            <div class="card exam-card text-center p-4">
                <a href="www/Generative_AI_TECH.html" class="tech-note-btn">Tech Note</a>
                <button class="analysis-top-btn" onclick="showAnalysis('genai', 'Generative AI')">é¡Œåº«åˆ†æ</button>
                <div class="card-icon" onclick="location.href='www/Generative_AI/Generative_AI.html'">âœ¨</div>
                <h3 class="card-title">Generative AI</h3>
                <p class="card-text text-muted">ç”Ÿæˆå¼äººå·¥æ™ºæ…§</p>
                <div class="mt-auto d-grid gap-2">
                    <a href="www/Generative_AI/Generative_AI.html" class="btn btn-primary start-btn">è‡ªä¸»ç·´ç¿’</a>
                    <a href="www/Generative_AI/mock_v34.html" class="btn btn-warning start-btn fw-bold">æ¨¡æ“¬è€ƒè©¦ (60é¡Œ)</a>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="text-center">
    <div class="container">
        <p>&copy; 2026 ITS Exam Simulator. All rights reserved. <button class="btn btn-link btn-sm text-dark no-print" onclick="logout()" style="text-decoration:none;">[ç™»å‡º]</button></p>
    </div>
</footer>
</div>

<!-- Analysis Modal -->
<div class="modal fade" id="analysisModal" tabindex="-1" aria-labelledby="analysisModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header bg-dark text-white">
        <h5 class="modal-title" id="analysisModalLabel">é¡Œåº«åˆ†æ</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="analysis-content">
        <!-- Markdown content will be rendered here -->
        è¼‰å…¥ä¸­...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">é—œé–‰</button>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function toggleField(id) {
        const input = document.getElementById(id);
        const icon = input.nextElementSibling;
        if (input.type === 'password') {
            input.type = 'text';
            icon.innerText = 'ğŸ”’';
        } else {
            input.type = 'password';
            icon.innerText = 'ğŸ‘ï¸';
        }
    }

    function checkLogin() {
        const u = document.getElementById('username').value;
        const p = document.getElementById('password').value;
        if (u === 'admin' && p === '@wsx1qaz') {
            localStorage.setItem('isLoggedIn', 'true');
            showContent();
        } else {
            document.getElementById('login-error').style.display = 'block';
        }
    }

    function showContent() {
        document.getElementById('login-overlay').style.display = 'none';
        document.querySelector('.main-content-wrapper').style.display = 'block';
    }

    function logout() {
        localStorage.removeItem('isLoggedIn');
        location.reload();
    }

    function showAnalysis(subjectId, title) {
        document.getElementById('analysis-content').innerHTML = 'è¼‰å…¥ä¸­...';
        document.getElementById('analysisModalLabel').innerText = title + ' é¡Œåº«åˆ†æå ±å‘Š';
        const modal = new bootstrap.Modal(document.getElementById('analysisModal'));
        modal.show();
        
        try {
            // å¾è¨˜æ†¶é«”ç‰©ä»¶è®€å–å…§å®¹ï¼Œå¾¹åº•ç¹é CORS å®‰å…¨æ€§é™åˆ¶
            const markdown = (typeof ANALYSIS_BUNDLE !== 'undefined' && ANALYSIS_BUNDLE[subjectId]) 
                             ? ANALYSIS_BUNDLE[subjectId] 
                             : '# æ‰¾ä¸åˆ°åˆ†æè³‡æ–™\n\nè«‹ç¢ºèª `www/analysis_bundle.js` æª”æ¡ˆæ˜¯å¦å·²æ­£ç¢ºç”¢ç”Ÿã€‚';
            
            document.getElementById('analysis-content').innerHTML = marked.parse(markdown);
        } catch (error) {
            document.getElementById('analysis-content').innerHTML = `
                <div class="alert alert-danger">
                    <h5>è®€å–è§£æå¤±æ•—</h5>
                    <p>${error.message}</p>
                </div>`;
        }
    }

    window.onload = function() {
        if (localStorage.getItem('isLoggedIn') === 'true') {
            showContent();
        }
    };

  if (window.location.protocol !== 'file:' && 'serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('www/sw.js').catch(() => {});
    });
  }
</script>
</body>
</html>
