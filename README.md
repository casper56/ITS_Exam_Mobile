# ITS 認證模擬測驗系統 (V3.4.4 核心引擎版)

## 🏆 專業介面與列印規範
本系統 V3.4 版本已優化全科目介面，維護時請嚴格遵守：
- **全屏外擴 (Edge-to-Edge)**：移除所有 `max-width` 限制。容器統一採用 `width: calc(100% - 60px); margin: auto;`。
- **邊距對齊 (30px Rule)**：確保左右精確留白 30px，導覽按鈕與內容區保持 **5px** 固定間隙並同步位移。
- **字體標準**：題目 #000 純黑，1.05rem；代碼塊遵循「去粉紅且高亮清晰」原則。
- **環境相容性**：所有 Storage 存取均具備 `try-catch` 保護，支援在 `file://` (本地檔案) 協定下正常練習。

## 🏆 專業列印格調與預覽禁忌
系統產出的 PDF 講義必須嚴格維持專業學術感：
- **正確答案條**：必須為「純白背景、綠色文字 (#198754)、左側 5px 綠實線」，禁止私自優化或加入底色。
- **答案忠實顯示**：列印報告與練習介面中的「正確答案」文字必須忠實呈現 JSON 原值 (A, B, C 或 Y, N)。

## 📊 數據規範 (V3.4.6)
### 1. JSON 格式要求 (核心標準)
所有題目必須存儲於各考科目錄下的 `questions_*.json` 中：
- **編碼**：必須為 **UTF-8 (無 BOM)**。
- **選項編號標註 (新版預設)**：
    - **不設定 (預設)**：自動顯示為 **`(A)`, `(B)`, `(C)`** 格式。
    - **`"labelType": "num"`**：切換為數字編號 **`1.`, `2.`, `3.`**。
    - **`"labelType": "none"`** 或 **`"hideLabel": true`**：完全隱藏編號。
- **答案格式 (高度相容)**：
    - 支援字母：`"answer": ["A", "C"]`
    - 支援數字：`"answer": [1, 3]` 或 `["1", "3"]` (系統自動映射至選項索引)
    - 支援是非：`"answer": ["Y", "N"]`
- **答案自動對齊 (UI 智慧轉換)**：
    - 系統會根據目前的編號模式 (Alpha 或 Num) **自動轉換**正確答案的顯示文字。
    - *範例*：若題目顯示 `(A)(B)` 且答案為 `[1]`，報告會自動顯示「正確答案：A」。

### 2. 官方題比例與 CUTOFF (V3.4.6)
- 系統自動維持 **95% 官方流出題 / 5% 補充題** 比例 (抽題邏輯優化)。
- **分類權重**：下限 **5%**，上限 **40%** (確保 D1-D6 章節覆蓋)。
- **各科 CUTOFF 設定 (最新版)**：
  - **ITS Python**：ID **1 - 91** 為官方題。
  - **ITS AI**：ID **1 - 118** 為官方題。
  - **ITS Database**：ID **1 - 69** 為官方題。
  - **ITS Software Dev**：ID **1 - 104** 為官方題。
  - **微軟 900 系列 / 其他**：ID **1 - 100** 為官方題。

## 🛠️ 新增考科標準 SOP (V3.4.4 結構化模式)
若要新增考科 (例如 `AZ-104`)，請遵循以下步驟：
1. **建立目錄**：在 `www/` 下建立資料夾，例如 `www/AZ104/`。
2. **準備 JSON**：將題庫存為 `www/AZ104/questions_AZ104.json` (符合數據規範)。
3. **登記設定**：打開 `www/config.json`，在 `subjects` 列表中加入新科目的設定 (包含 `dir`, `json`, `title`, `id`, `html`, `cutoff`)。
4. **執行生成**：執行 `python final_clean_repair.py`。系統會自動根據 `config.json` 產出對應的 `Subj.html` 與 `mock_v34.html`。
5. **更新入口**：修改 `www/index.html` 加入跳轉卡片。

## 🛠️ 維護工作流
不論是修改題庫還是更新邏輯，統一執行：
`python final_clean_repair.py`
該腳本會「整份重建」所有相關網頁，確保結構完整與編碼正確。

---
*警告：嚴禁隨意替換佈局代碼。務必遵守 V3.4 calc(100%-60px) 外擴規格。維護穩定性與尊重現有邏輯是最高原則。*
