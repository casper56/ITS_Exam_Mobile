# ITS 認證模擬測驗系統 (V3.2 更新)

## 🏆 專業介面與列印規範
本系統 V3.2 版本已統一全科目介面規格，維護時請參閱 `spec.md`：
- **按鈕標準**：寬 25px / 高 65px / 圓角 15px，禁止 Hover 變形。
- **佈局標準**：統一採用 30px 側邊留白與水平置中邏輯。
- **字體標準**：題目 #000 純黑，1.05rem；代碼塊遵循「去粉紅且高亮清晰」原則。

## 🏆 專業列印格調規範 (1:1 復刻 PDF 格調.PNG)
系統產出的 PDF 講義必須嚴格遵守以下視覺規範，以維持專業學術感：

- **背景色**：純白背景，禁止任何深色標題條或粉紅色塊。
- **題目標號**：採用 `52. 【CH05】題目內容` 格式，標號加粗。
- **選項樣式**：左側縮排 20px，文字清晰。
- **正確答案條**：
  - **綠色文字** (`#198754`)。
  - **左側裝飾線**：5px 粗綠色實線 (`border-left`)。
  - **背景**：純白 (不可有底色)。
- **解析區塊**：
  - **淺灰色背景** (`#f8f9fa`)。
  - **圓角框**：10px 圓角 (`border-radius`)。
  - **邊框**：1px 極淺灰邊框 (`#eeeeee`)。
  - **代碼塊**：繼承解析盒顏色，徹底禁止 Bootstrap 預設的粉紅色文字。

## 📊 科目出題配置與要求

### 1. 全科目統一出題比例
模擬考試（MOCK Exam）全面採用 **90% 官方流出題 / 10% 補充題** 的比例配置：

| 科目類型 | 總題數 | 官方題 (90%) | 補充題 (10%) |
| :--- | :---: | :---: | :---: |
| **一般認證科目** (ITS AI, DB, Py...) | 40 題 | 36 題 | 4 題 |
| **軟體開發** (ITS SoftDevelop) | 50 題 | 45 題 | 5 題 |

### 2. 各科官方題範圍界定
| 科目名稱 | 官方題 ID 範圍 | 備註 |
| :--- | :--- | :--- |
| **ITS AI (Artificial Intelligence)** | **ID 1 - 118** | 流出量較大，獨立維護。 |
| **ITS Database Administration** | ID 1 - 69 | 標準範圍。 |
| **ITS Python Programming** | ID 1 - 69 | 標準範圍。 |
| **ITS Software Development** | ID 1 - 69 | 標準範圍。 |
| **AI-900 / AZ-900 / GenAI** | ID 1 - 100 | 預設範圍。 |

### 3. 全科目通用「動態平衡」邏輯
所有模擬考試均內建以下智能抽題機制：
- **下限保證**：每一大分類至少抽出 **3 題**，確保全考綱覆蓋。
- **錯題優先**：優先抽取歷史紀錄中的答錯題目，直到完成訂正。
- **弱點強化**：若某分類正確率低於 **60%**，系統會自動增加該類抽題數至 **6 題**。

## 🛠️ 技術實作要求 (前端即時列印)
1.  **`window.print()` 驅動**：使用隱藏的 `#review-area` 容器，排版精密度遠超 ReportLab。
2.  **`processContent` 渲染引擎**：
    - 所有練習與模擬考頁面均支援 `[[image01]]` 動態圖片標籤。
    - 自動處理 `●` 符號換行，提升解析閱讀體驗。
3.  **動態檔名建議**：點擊「📄 列印預覽」時，JavaScript 會暫時修改 `document.title` 為科目名稱。
4.  **離題檢查機制**：導覽切換時自動判定當前題目勾選狀態並即時存檔。

## 🚀 維護工作流
若有修改任何考科的 JSON 題庫，請務必執行以下指令進行全科目大同步：

```bash
# 1. 同步練習頁面邏輯與數據
python final_clean_repair.py
# 2. 同步模擬考頁面數據
python repair_mock_exam.py
```

## ⚠️ 開發環境效能優化 (避免當機)
由於專案包含大量 JSON 題庫，針對 8GB 記憶體的主機，建議進行以下設定：
- **臨時設定 (PowerShell)**：`$env:NODE_OPTIONS="--max-old-space-size=4096"`
- **永久設定**：新增系統變數 `NODE_OPTIONS`，值為 `--max-old-space-size=4096`。

---
*註：一般 ITS 認證流出題目編號為 1 至 69，但 ITS_AI 科目例外 (1 至 118)。*
